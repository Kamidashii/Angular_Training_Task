<div id="main-container" class="container-fluid">
    <div class="row">
        <div class="flex-container col-sm-7 col-md-7 col-lg-8 col-xl-8">
            <table class="cover-letters table-dark">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Profession</th>
                        <th scope="col">Name</th>
                        <th scope="col">Draft</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let letter of coverLetters">
                        <td>{{letter.id}}</td>
                        <td>{{letter.profession}}</td>
                        <td>{{letter.name}}</td>
                        <td>
                            <input type="checkbox" readonly [checked]="letter.draft" id="letterDraft">
                        </td>

                        <td>
                            <button type="button" class="btn btn-success" style="margin: 5px;" (click)=editLetter(letter.id)>Edit</button>
                            <button type="button" class="btn btn-danger" style="margin: 5px;" (click)="deleteLetterByKey(letter.id)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="flex-container col-sm-5 col-md-5 col-lg-4 col-xl-4">
            <div class="topic">Form</div>
            <div class="edit-cover-letter">
                <form [formGroup]="letterForm" (ngSubmit)="createLetter(letterForm.value)">
                    <input id="id" class="input-block form-control" placeholder="ID" formControlName="id" required>
                    <div *ngIf="id.invalid && id.touched" class="alert alert-danger">

                        <div *ngIf="id.errors.required">
                            id is required.
                        </div>
                        <div *ngIf="id.errors.max">
                            id has to be smaller than 2^53 -1
                        </div>
                        <div *ngIf="id.errors.pattern">
                            id has to be a non-negative integer.
                        </div>
                    </div>

                    <input class="input-block form-control" formControlName="profession" placeholder="Profession" required>
                    <div *ngIf="profession.invalid && profession.touched" class="alert alert-danger">

                        <div *ngIf="profession.errors.required">
                            profession is required.
                        </div>
                        <div *ngIf="profession.errors.minlength">
                            profession must consists at least {{professionMinLength}} symbols
                        </div>
                        <div *ngIf="profession.errors.maxlength">
                            profession must consists not more than {{professionMaxLength}} symbols
                        </div>
                        <div *ngIf="profession.errors.pattern">
                            profession can contains only latin symbols and spaces
                        </div>
                    </div>

                    <input class="input-block form-control" formControlName="name" placeholder="Name" required>
                    <div *ngIf="name.invalid && name.touched" class="alert alert-danger">
                        <div *ngIf="name.errors.required">
                            name is required
                        </div>
                        <div *ngIf="name.errors.minlength">
                            name must consists at least {{nameMinLength}} symbols
                        </div>
                        <div *ngIf="name.errors.maxlength">
                            name must consists not more than {{nameMaxLength}} symbols
                        </div>
                        <div *ngIf="name.errors.pattern">
                            name can contains only latin symbols and spaces
                        </div>
                    </div>

                    <textarea class="textarea-block form-control" formControlName="about" placeholder="About"></textarea>
                    <div *ngIf="about.invalid && about.touched" class="alert alert-danger">
                        <div *ngIf="about.errors.minlength">
                            about must consists at least {{aboutMinLength}} symbols
                        </div>
                        <div *ngIf="about.errors.maxlength">
                            about must consists not more than {{aboutMaxLength}} symbols
                        </div>
                    </div>

                    <div class="custom-control custom-checkbox" style="display: flex; justify-content:center">
                        <input type="checkbox" class="input-block custom-control-input form-control" formControlName="draft" id="draftCheckbox">
                        <label class="custom-control-label" for="draftCheckbox">Is drafted</label>
                    </div>

                    <button type="submit" [disabled]="letterForm.invalid" class="btn btn-success save-btn">Save</button>
                </form>
            </div>
        </div>
    </div>
</div>